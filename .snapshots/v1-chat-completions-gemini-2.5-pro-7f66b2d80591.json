{
  "key": "v1-chat-completions-gemini-2.5-pro-7f66b2d80591",
  "test": {
    "name": "handles tool calling with gemini-2.5-pro",
    "file": "tests/integration/google.test.ts"
  },
  "request": {
    "body": {
      "model": "gemini-2.5-pro",
      "messages": [
        {
          "role": "user",
          "content": "What is the weather in San Francisco? Use the getWeather tool."
        }
      ],
      "tools": [
        {
          "type": "function",
          "function": {
            "name": "getWeather",
            "description": "Get the current weather for a location",
            "parameters": {
              "type": "object",
              "properties": {
                "location": {
                  "type": "string",
                  "description": "The city to get weather for"
                }
              },
              "required": [
                "location"
              ],
              "additionalProperties": false,
              "$schema": "http://json-schema.org/draft-07/schema#"
            }
          }
        }
      ],
      "tool_choice": "auto"
    }
  },
  "response": {
    "status": 200,
    "headers": {
      "access-control-allow-headers": "Authorization, Content-Type",
      "access-control-allow-origin": "*",
      "alt-svc": "h3=\":443\"; ma=86400",
      "cf-cache-status": "DYNAMIC",
      "connection": "keep-alive",
      "content-encoding": "br",
      "content-type": "application/json",
      "openai-processing-ms": "2506",
      "openai-version": "2020-10-01",
      "server": "cloudflare",
      "strict-transport-security": "max-age=63072000; includeSubDomains; preload",
      "transfer-encoding": "chunked"
    },
    "body": {
      "id": "chatcmpl-8d38d3d55b09caee1b910999",
      "object": "chat.completion",
      "created": 1770392946,
      "model": "gemini-2.5-pro",
      "choices": [
        {
          "index": 0,
          "message": {
            "role": "assistant",
            "content": "",
            "tool_calls": [
              {
                "id": "tool_getWeather_RzdVSGyrrvFhFEg8uRNq",
                "type": "function",
                "function": {
                  "name": "getWeather",
                  "arguments": "{\"location\": \"San Francisco\"}"
                },
                "extra_content": {
                  "google": {
                    "thought_signature": "CiQBjz1rXw8Z9eyouUOAZsopSXjZVco7TDyxDjFmtIhY+iuexAAKfgGPPWtfeI1Z+5HTYNrpZbYPUWT/K8f7Ufclu6FAPVJBHsbXw8nTKipazCwJWM96B4WHGB3xaqYwQoK3qiUG5s1rzMSLQ19mUja3UQm7GVQuxNh+rjekxGIhf2qa7FxfKwsV0Rg0Txyp7cbkkNPyyvPNyln15/elaYwDWxWPOQpeAY89a19dAYWLherPiIeQNBl9/50l0wjttbOwN86/p+1yos4MYQLdMnf7GMriCytTchuX4R2Hr669ycv5mqGJ55Ok2y9JtYMDIqGjvsiaN//mhae1B7PKHzxVGC6IugrKAQGPPWtfwgxWB4WiKz8qsJyt4W/LQCbG+jGggVM29pYH6a0HeFrAh3/k09UnPQhqpmnrZ2Ni97dUvd659K2Tk5/s15G8tKS7x2a0iLvI+vphdpsT+uLRKdW8JQDr9P2SUFQ2R1f6LmXM+gWaa8oFa3sm7HxQZX3rG8bznw24/Z3jsrLjDecHCvNBE6cwjPxhautM4+/ZNbCrXGqToBUG7QS+Ks27OZHZ0WlMdoM3y4sWdSd4SEU3/rr2f32tXLYbR5N+4SKI9fM794kKoQEBjz1rX9PIAIIif0FuBWDUBU2zB6dPL2lQrK82Xarw7XQlLtDspp7Aj9TGhe5AQG8+LhbkQ++na4IWOh0QLomBZ60gNIVppQ6KxAnI3YioAicOSMvtZfWUjdsDg+krBCeiTUsZXmU0RXSHOaSp980+IfMQUCWoTDIIvP6plnfo+ZmFd4UFr1Yy30siDKUxJF0MsP0K/VrEWbL/q2ri0zBJQgqHAQGPPWtfam2JxfpMSZumeLfItBGfklznx5QcA9eUa8TaJqEVSuZ4rhUEvgBYD4pX0GT1xVuLiQBoYnKNjzVMKODFqXcsAlpm9GDSSs5BtJzDoPRsQGDkHM8XUQko2uuxwkDGP0DMK9J57iyYVL5cq/qrqwjjq+xgMjdIrovGmaKikS7s2PwsrQ=="
                  }
                }
              }
            ]
          },
          "finish_reason": "tool_calls"
        }
      ],
      "usage": {
        "completion_tokens": 132,
        "prompt_tokens": 32,
        "total_tokens": 164,
        "completion_tokens_details": {
          "accepted_prediction_tokens": null,
          "audio_tokens": null,
          "reasoning_tokens": 127,
          "rejected_prediction_tokens": null
        },
        "prompt_tokens_details": null
      }
    }
  }
}