{
  "key": "v1-responses-o1-3becd8d734f7",
  "test": {
    "name": "handles tool calling with o1",
    "file": "tests/integration/openai.test.ts"
  },
  "request": {
    "body": {
      "model": "o1",
      "input": [
        {
          "role": "user",
          "content": [
            {
              "type": "input_text",
              "text": "What is the weather in San Francisco? Use the getWeather tool."
            }
          ]
        }
      ],
      "tools": [
        {
          "type": "function",
          "name": "getWeather",
          "description": "Get the current weather for a location",
          "parameters": {
            "type": "object",
            "properties": {
              "location": {
                "type": "string",
                "description": "The city to get weather for"
              }
            },
            "required": [
              "location"
            ],
            "additionalProperties": false,
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        }
      ],
      "tool_choice": "auto"
    }
  },
  "response": {
    "status": 200,
    "headers": {
      "access-control-allow-origin": "*",
      "alt-svc": "h3=\":443\"; ma=86400",
      "cf-cache-status": "DYNAMIC",
      "connection": "keep-alive",
      "content-encoding": "br",
      "content-type": "application/json; charset=utf-8",
      "server": "cloudflare",
      "strict-transport-security": "max-age=63072000; includeSubDomains; preload",
      "transfer-encoding": "chunked"
    },
    "body": {
      "id": "resp_bGl0ZWxsbTpjdXN0b21fbGxtX3Byb3ZpZGVyOm9wZW5haTttb2RlbF9pZDpOb25lO3Jlc3BvbnNlX2lkOnJlc3BfMGQ3YjRhOGJmOWZlNzE5NTAxNjk4NjBkZWZkMGIwODE5NDkyYjBiMWZjZTRlYjM3NmU=",
      "created_at": 1770393071,
      "metadata": {},
      "model": "o1-2024-12-17",
      "object": "response",
      "output": [
        {
          "id": "rs_0d7b4a8bf9fe71950169860df82e688194ab76746109c31a24",
          "summary": [],
          "type": "reasoning"
        },
        {
          "arguments": "{\"location\":\"San Francisco\"}",
          "call_id": "call_N0B8aDmCDaPOArOXr7FG49Ze",
          "name": "getWeather",
          "type": "function_call",
          "id": "fc_0d7b4a8bf9fe71950169860df94e9c8194825c3f50b2d373d7",
          "status": "completed"
        }
      ],
      "parallel_tool_calls": true,
      "temperature": 1,
      "tool_choice": "auto",
      "tools": [
        {
          "name": "getWeather",
          "parameters": {
            "type": "object",
            "properties": {
              "location": {
                "type": "string",
                "description": "The city to get weather for"
              }
            },
            "required": [
              "location"
            ],
            "additionalProperties": false
          },
          "strict": true,
          "type": "function",
          "description": "Get the current weather for a location"
        }
      ],
      "top_p": 1,
      "reasoning": {
        "effort": "medium"
      },
      "status": "completed",
      "text": {
        "format": {
          "type": "text"
        },
        "verbosity": "medium"
      },
      "truncation": "disabled",
      "usage": {
        "input_tokens": 63,
        "input_tokens_details": {
          "cached_tokens": 0
        },
        "output_tokens": 208,
        "output_tokens_details": {
          "reasoning_tokens": 192
        },
        "total_tokens": 271
      },
      "store": false,
      "background": false,
      "billing": {
        "payer": "developer"
      },
      "completed_at": 1770393081,
      "frequency_penalty": 0,
      "presence_penalty": 0,
      "service_tier": "default",
      "top_logprobs": 0
    }
  }
}